<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fighting Global Warming: Causes and Solutions</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=Lilita+One&display=swap" rel="stylesheet">
    <style>
        /* Base styles from template */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #eef2ff; /* Light indigo background */
            color: #1a202c;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .main-content-wrapper {
            flex-grow: 1;
        }
        .container {
            max-width: 90%;
            margin: 0 auto;
            padding: 1.5rem 0;
        }

        /* Header styles */
        .header {
            background-color: #fef3c7;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            min-height: 80px;
            position: sticky;
            top: 0;
            z-index: 50;
        }
        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .header-logo {
            height: 50px;
            width: auto;
            border-radius: 0.5rem;
        }
        .header-title {
            color: #f97316;
            font-size: 2.25rem;
            font-weight: 700;
            text-align: center;
        }

        /* Footer styles */
        .footer {
            background-color: #ea580c;
            color: white;
            padding: 1.25rem 2rem;
            text-align: center;
            margin-top: auto;
            border-top-left-radius: 1rem;
            border-top-right-radius: 1rem;
            box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.05);
        }
        .footer p {
            margin: 0;
            line-height: 1.5;
        }
        .footer a {
            color: #bfdbfe;
            text-decoration: none;
        }
        .footer a:hover {
            text-decoration: underline;
        }

        /* Card (lesson-section) styles */
        .lesson-section {
            background-color: #ffffff;
            border-radius: 0.75rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            overflow: hidden;
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
            border-left-width: 3px;
            border-bottom-width: 3px;
            border-color: transparent; /* Default transparent, overridden by specific border classes */
        }
        .lesson-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }
        .section-header {
            padding: 0.75rem 1.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .section-content {
            padding: 1.5rem;
        }

        /* Card Header/Border Colors */
        .header-main { background-color: #3b82f6; } /* Blue */
        .header-objective { background-color: #1d4ed8; } /* Darker Blue */
        .header-video { background-color: #dc2626; } /* Red */
        .header-activity { background-color: #f97316; } /* Orange */
        .header-vocab { background-color: #f59e0b; } /* Amber/Yellow */
        .header-quiz { background-color: #8b5cf6; } /* Violet/Purple */

        .border-main { border-color: #3b82f6; }
        .border-objective { border-color: #1d4ed8; }
        .border-video { border-color: #dc2626; }
        .border-activity { border-color: #f97316; }
        .border-vocab { border-color: #f59e0b; }
        .border-quiz { border-color: #8b5cf6; }

        /* General text styles */
        h1 {
            font-weight: 700;
            color: #1e40af; /* Blue-800 */
            font-size: 2.5rem; /* text-4xl */
            text-align: center;
            margin-bottom: 1.5rem;
        }
        h2 {
            font-weight: 700;
            color: #2563eb; /* Blue-700 */
            font-size: 2rem; /* text-3xl */
            margin-top: 0; /* Reset top margin as it's within a card */
            margin-bottom: 1rem;
        }
        h3 {
            font-weight: 700;
            color: #4338ca; /* Indigo-700 */
            font-size: 1.5rem; /* text-2xl */
            margin-top: 1rem; /* Adjusted for spacing within card content */
            margin-bottom: 1rem;
        }
        p {
            margin-bottom: 1rem;
            line-height: 1.7;
            font-size: 1.125rem; /* text-lg */
        }
        ul, ol {
            margin-top: 1em;
            margin-bottom: 1em;
            padding-left: 1.5rem;
        }
        li {
            margin-bottom: 0.75em;
            font-size: 1.125rem; /* text-lg */
        }

        /* Color Psychology for text/feedback */
        .benefit-text { color: #047857; font-weight: 600; } /* Green-700 */
        .burden-text { color: #dc2626; font-weight: 600; } /* Red-700 */
        .text-purple-700 { color: #7e22ce; }
        .text-indigo-700 { color: #4338ca; }
        .text-blue-700 { color: #2563eb; }
        .text-green-700 { color: #047857; }
        .text-red-700 { color: #dc2626; }
        .text-blue-800 { color: #1e40af; }

        /* Button styles */
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            border: none;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .btn:active {
            transform: translateY(0);
            box-shadow: none;
        }
        .button-primary { background-color: #4f46e5; }
        .button-primary:hover { background-color: #4338ca; }
        .button-secondary { /* New style for reset button */
            background-color: #6b7280; /* Gray-500 */
            margin-left: 0.5rem; /* Space from check button */
        }
        .button-secondary:hover {
            background-color: #4b5563; /* Gray-700 */
        }

        /* Quiz Option styles */
        .quiz-option {
            background-color: #f0f9ff;
            border: 1px solid #93c5fd;
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.1s ease;
        }
        .quiz-option:hover {
            background-color: #e0f2fe;
            transform: translateX(5px);
        }
        .quiz-option.selected {
            background-color: #bfdbfe;
            border-color: #2563eb;
        }
        .quiz-option.correct-answer {
            background-color: #d1fae5;
            border-color: #10b981;
            animation: flashGreen 0.5s ease-out;
        }
        .quiz-option.incorrect-answer {
            background-color: #fee2e2;
            border-color: #ef4444;
            animation: shake 0.5s ease-out, flashRed 0.5s ease-out;
        }

        /* Quick Check Answer Box styles */
        .answer-box {
            background-color: #ecfdf5;
            border: 1px solid #34d399;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
            display: none;
            text-align: left;
            animation: flashGreen 0.5s ease-out;
        }

        /* Responsive video container */
        .video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 0.75rem;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Visual Feedback Animations */
        @keyframes flashGreen {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            50% { box-shadow: 0 0 15px 5px rgba(16, 185, 129, 0.7); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        @keyframes flashRed {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); border-color: rgba(239, 68, 68, 0.7); }
            50% { box-shadow: 0 0 15px 5px rgba(239, 68, 68, 0.7); border-color: rgba(239, 68, 68, 0.7); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); border-color: rgba(239, 68, 68, 0); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25%, 75% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
        }

        /* Confetti animation styles */
        .confetti-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; overflow: hidden; z-index: 9999;
        }
        .confetti {
            position: absolute; width: 10px; height: 10px; opacity: 0;
            animation: confetti-fall 3s forwards;
        }
        .confetti:nth-child(3n) { background-color: #0f0; }
        .confetti:nth-child(3n+1) { background-color: #00f; }
        .confetti:nth-child(3n+2) { background-color: #ff0; }
        @keyframes confetti-fall {
            0% { opacity: 1; transform: translateY(-100vh) rotate(0deg); }
            100% { opacity: 0; transform: translateY(100vh) rotate(720deg); }
        }

        /* Feedback message styles */
        .feedback {
            margin-top: 1rem;
            font-weight: 600;
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        .feedback.show {
            opacity: 1;
            transform: scale(1);
        }
        .correct-feedback { color: #10b981; }
        .incorrect-feedback { color: #ef4444; }

        /* Activity/Quick Check content alignment */
        .activity-box-content { text-align: center; }
        .quick-check-box-content { text-align: center; }

        /* Draggable items specific styles to ensure visibility and responsiveness */
        .draggable {
            background-color: #a78bfa; /* Purple-400 */
            color: white;
            padding: 0.75rem 1.25rem;
            margin: 0.5rem;
            border-radius: 0.5rem;
            cursor: grab;
            min-width: 120px;
            flex: 1 1 auto;
            max-width: calc(50% - 1rem); /* Allows two items per row on larger mobile/tablet */
            min-height: 40px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            position: relative;
            z-index: 10;
            line-height: 1.2;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        .draggable:active {
            cursor: grabbing;
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }
        /* Media query to ensure items stack on very small screens if needed */
        @media (max-width: 640px) { /* Tailwind's 'sm' breakpoint */
            .draggable {
                max-width: calc(100% - 1rem); /* One item per row on very small screens */
            }
        }
        /* Dropzone specific styles */
        .dropzone {
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 1rem;
            transition: background-color 0.3s ease;
        }
        .dropzone.hover { background-color: #dbeafe; } /* Light blue on hover */
        .dropzone.correct { background-color: #d1fae5; animation: flashGreen 0.5s ease-out; }
        .dropzone.incorrect { background-color: #fee2e2; animation: shake 0.5s ease-out, flashRed 0.5s ease-out; }
        .dropzone .draggable { margin-top: 0.5rem; }

    </style>
</head>
<body>

    <header class="header">
        <div class="header-left">
            <img src="https://i.postimg.cc/bwyD9j9w/Teacher-ed-Logo.png" alt="Teacher Ed Logo" class="header-logo">
            <div class="header-title">Teacher Ed Classroom</div>
        </div>
    </header>

    <div class="main-content-wrapper">
        <div class="container">
            <!-- Main Title of the Lesson -->
            <div class="lesson-section border-main">
                <div class="section-header header-main">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.54 15H17a2 2 0 0 0-2 2v4.54"></path><path d="M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17"></path><path d="M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05"></path><line x1="12" x2="12" y1="22" y2="2"></line></svg>
                    <span>Fighting Global Warming: Understanding Causes and Designing Solutions</span>
                </div>
            </div>

            <!-- Introduction Section -->
            <div class="lesson-section border-main">
                <div class="section-content flex flex-col md:flex-row gap-6 items-center">
                    <div class="md:w-1/4 flex-shrink-0">
                        <img src="https://i.postimg.cc/SNzPhD1F/Global-warming.png" alt="Illustration of the Earth with a thermometer showing rising temperatures" class="rounded-lg shadow-lg w-full max-w-[150px] mx-auto md:max-w-full">
                    </div>
                    <div class="md:w-3/4">
                        <p class="font-bold text-xl text-center md:text-left">Hello, Future Earth Guardians! 🌎🔥</p>
                        <p>You’ve already explored how technology affects the planet and even calculated your carbon footprints — great work! Now it’s time to connect the dots.</p>
                        <p>In this lesson, we’re going to investigate a powerful question:</p>
                        <p class="text-center font-bold text-blue-700 italic my-4">How do our everyday actions lead to Global Warming, and what can we do to stop it?</p>
                        <p>Just like real scientists, we will:</p>
                        <ul class="list-disc list-inside ml-4">
                            <li>Identify the main causes of global warming,</li>
                            <li>Analyze their impact on Earth’s climate,</li>
                            <li>And design real solutions that kids like us can actually do!</li>
                        </ul>
                        <p>Ready to level up and become Problem-Solvers for the Planet? 💡🌱 Let’s get started!</p>
                    </div>
                </div>
            </div>

            <!-- What is Global Warming? -->
            <div class="lesson-section border-objective">
                <div class="section-header header-objective">
                    <span>What's Happening to Our Planet? 🌡️</span>
                </div>
                <div class="section-content">
                    <p>Have you ever noticed that some days feel hotter than they used to? Or that storms seem stronger? These aren't just your imagination! Scientists have observed that the Earth's average temperature is slowly rising. This is called <span class="text-red-700 font-bold">Global Warming</span>.</p>
                    <p>Think of the Earth like it's wrapped in a giant, invisible blanket. This "blanket" is our atmosphere, and it has special gases called <span class="text-blue-700 font-bold">greenhouse gases</span>. They do a super important job: they trap some of the sun's heat, which keeps our planet warm enough for us to live. This is called the <span class="text-green-700 font-bold">Greenhouse Effect</span>.</p>
                    <p>The problem is, human activities are making this blanket <span class="text-red-700 font-bold">thicker</span> by adding extra greenhouse gases, like Carbon Dioxide (CO2). A thicker blanket traps too much heat, and that's what causes global warming.</p>
                    <p>Watch these short videos to see how the greenhouse effect works and learn more about the causes and effects of climate change.</p>
                    <div class="flex flex-col md:flex-row gap-4 mt-6">
                        <div class="video-container flex-1 m-0">
                            <iframe src="https://www.youtube.com/embed/oJAbATJCugs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                        <div class="video-container flex-1 m-0">
                            <iframe src="https://www.youtube.com/embed/WkvPdUtYhX8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- What's Causing the Heat? -->
            <div class="lesson-section border-vocab">
                <div class="section-header header-vocab">What's Causing the Heat? 🔥</div>
                <div class="section-content">
                    <div class="flex flex-col md:flex-row gap-6 items-center">
                        <div class="md:w-2/3">
                            <p>So where do these extra greenhouse gases come from? The two biggest sources are:</p>
                            <h3 class="mt-4 text-red-700">1. Burning Fossil Fuels</h3>
                            <p>When we burn <span class="font-bold">fossil fuels</span> like coal, oil, and natural gas, we release huge amounts of CO2. Think about it: the electricity for your lights and video games, the gas in your family's car, and the energy used to make your clothes and toys often come from this. It's the #1 contributor to making Earth's "blanket" extra thick.</p>
                            <h3 class="mt-4 text-green-700">2. Deforestation</h3>
                            <p><span class="font-bold">Deforestation</span> is the cutting down of large forests. Trees are our planet's superheroes! They act like giant sponges, soaking up CO2 from the air. When forests are cleared for things like farming or building cities, we lose our best natural tool for cleaning the atmosphere. It's a double-whammy, because not only do we lose the trees that absorb CO2, but burning them releases all the carbon they had stored inside back into the air.</p>
                        </div>
                        <div class="md:w-1/3">
                            <img src="https://i.postimg.cc/cLBXxjQz/Deforestatio-Fossil-fuels.png" alt="An illustration showing both deforestation and factory smokestacks, representing the main causes of global warming." class="rounded-lg shadow-lg w-full">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Activity: Mitigation vs. Adaptation -->
            <div class="lesson-section border-activity">
                <div class="section-header header-activity">Activity: How Do We Respond? 🛡️</div>
                <div class="section-content activity-box-content">
                    <p class="text-lg mb-4">When we talk about fighting climate change, we have two main types of actions. Can you sort them out? Drag each action into the correct box.</p>
                    <ul class="text-left list-disc list-inside mb-6 max-w-2xl mx-auto">
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-green-700 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" /></svg>
                            <span><span class="font-bold text-green-700">Mitigation:</span> Actions that <span class="underline">reduce</span> the causes of global warming (like making the blanket thinner).</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-blue-700 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" /></svg>
                            <span><span class="font-bold text-blue-700">Adaptation:</span> Actions that help us <span class="underline">live with</span> the effects of global warming that are already happening.</span>
                        </li>
                    </ul>
                    <div class="flex flex-wrap justify-center mb-6" id="draggable-items">
                        <div class="draggable" draggable="true" id="item1" data-type="mitigation">Using solar panels for electricity</div>
                        <div class="draggable" draggable="true" id="item2" data-type="adaptation">Building higher sea walls to prevent flooding</div>
                        <div class="draggable" draggable="true" id="item3" data-type="mitigation">Planting new forests (Afforestation)</div>
                        <div class="draggable" draggable="true" id="item4" data-type="adaptation">Planting crops that can survive in hotter weather</div>
                        <div class="draggable" draggable="true" id="item5" data-type="mitigation">Riding a bike instead of driving a car</div>
                        <div class="draggable" draggable="true" id="item6" data-type="adaptation">Creating early warning systems for storms</div>
                    </div>
                    <div class="flex flex-col md:flex-row justify-center gap-4">
                        <div class="dropzone flex-1 p-4 border-2 border-green-500 bg-green-50 rounded-lg" id="mitigation-zone" data-accept="mitigation">
                            <p class="text-green-700 font-bold text-xl flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>
                                Mitigation (Reduce the Cause)
                            </p>
                        </div>
                        <div class="dropzone flex-1 p-4 border-2 border-blue-500 bg-blue-50 rounded-lg" id="adaptation-zone" data-accept="adaptation">
                            <p class="text-blue-700 font-bold text-xl flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>
                                Adaptation (Live with Effects)
                            </p>
                        </div>
                    </div>
                    <button class="button-primary btn mt-4" onclick="checkDragAndDrop()">Check My Answers</button>
                    <button class="button-primary btn button-secondary mt-4" onclick="resetDragAndDrop()">Reset Activity</button>
                    <div id="drag-drop-feedback" class="feedback text-lg mt-4"></div>
                </div>
            </div>

            <!-- Your Personal Action Plan -->
            <div class="lesson-section border-objective">
                <div class="section-header header-objective">Your Turn to Be a Hero! 🦸</div>
                <div class="section-content">
                    <h3 class="mt-0">Make Your "Green Pledge"</h3>
                    <p>Big changes start with small steps. Even one person can make a difference! Your <span class="font-bold text-blue-700">Carbon Footprint</span> is the total amount of greenhouse gases your actions produce. Let's think of one way to make it smaller.</p>
                    <p>Based on everything we've learned, what is one action you can commit to this week to help our planet?</p>
                    <ol class="list-decimal list-inside text-left mb-4">
                        <li>What is <span class="text-green-700 font-bold">one action</span> you will take?</li>
                        <li>How will this action help the environment?</li>
                    </ol>
                    <textarea id="reflection-answer" rows="6" class="w-full p-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:border-blue-500" placeholder="Example:&#10;1. My commitment is to use a reusable water bottle instead of buying plastic ones.&#10;2. This will help by reducing plastic waste. Making plastic uses fossil fuels, so using less plastic means fewer greenhouse gases are released."></textarea>
                    <button class="button-primary btn" onclick="showReflectionFeedback()">Submit My Pledge</button>
                    <div id="reflection-feedback" class="feedback text-lg mt-4 text-left"></div>
                </div>
            </div>

            <!-- Test Your Climate Smarts! -->
            <div class="lesson-section border-quiz">
                <div class="section-header header-quiz">Test Your Climate Smarts! ✅</div>
                <div class="section-content activity-box-content">
                    <p class="text-lg mb-4">Test your understanding! Choose the best answer for each question.</p>
                    <div id="quiz-container" class="text-left max-w-2xl mx-auto">
                        <!-- Quiz questions will be inserted here by JavaScript -->
                    </div>
                    <button class="button-primary btn" onclick="submitQuiz()">Submit Quiz</button>
                    <div id="quiz-feedback" class="feedback text-lg mt-4"></div>
                </div>
            </div>

            <!-- References Section -->
            <div class="lesson-section border-main">
                <div class="section-header header-main">Want to Learn More? 📚</div>
                <div class="section-content">
                    <p class="text-lg">Want to dive deeper? Check out these excellent resources used in this lesson:</p>
                    <p class="font-bold mt-4">Websites:</p>
                    <ul>
                        <li><a href="https://climate.nasa.gov/" target="_blank" class="text-blue-600 hover:underline">NASA Global Climate Change</a> - Provides data, articles, and educational resources.</li>
                        <li><a href="https://solarimpulse.com/global-warming-effects" target="_blank" class="text-blue-600 hover:underline">Solar Impulse Foundation: Global Warming Effects</a> - Offers informative articles and visuals.</li>
                    </ul>
                    <p class="font-bold mt-4">Books:</p>
                    <ul class="list-disc list-inside">
                        <li><em>The Uninhabitable Earth: Life After Warming</em> by David Wallace-Wells</li>
                        <li><em>This Changes Everything: Capitalism vs. The Climate</em> by Naomi Klein</li>
                    </ul>
                </div>
            </div>

            <!-- Final Thought Section -->
            <div class="lesson-section border-main">
                <div class="section-header header-main">Final Thought! 🤔</div>
                <div class="section-content text-center">
                    <p class="text-lg">Remember the skills of a scientist: observation, analysis, and problem-solving. How can we use these skills to inspire others in our school and community to join the fight against global warming?</p>
                    <p class="text-xl mt-4 text-blue-800 font-bold">Your curiosity and commitment are powerful tools for creating a <span class="text-green-700">healthier planet!</span></p>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p class="font-semibold">Explore, discover, and learn something new every day!</p>
        <p class="text-xs mt-1">© 2025 Mr. Edwin's Virtual Classroom — All rights reserved.</p>
    </footer>

    <script>
        // Global variables
        let currentQuizAnswers = {};

        const quizQuestions = [
             {
                question: "What is the main idea behind the 'Greenhouse Effect'?",
                options: [
                    "Plants growing better in a greenhouse.",
                    "Gases in the atmosphere trapping heat from the sun.",
                    "The Earth's surface reflecting all sunlight back into space.",
                    "Building houses that are painted green."
                ],
                answer: "Gases in the atmosphere trapping heat from the sun."
            },
            {
                question: "Which of the following is a major cause of increased CO2 in the atmosphere?",
                options: [
                    "Planting more trees (afforestation).",
                    "Using solar and wind power.",
                    "Burning fossil fuels like coal, oil, and gas.",
                    "Recycling plastic and paper."
                ],
                answer: "Burning fossil fuels like coal, oil, and gas."
            },
            {
                question: "An action taken to reduce or prevent global warming, like using clean energy, is called:",
                options: [
                    "Adaptation",
                    "Mitigation",
                    "Deforestation",
                    "Hypothesis"
                ],
                answer: "Mitigation"
            },
            {
                question: "Which of these is an example of a sustainable practice?",
                options: [
                    "Leaving the water running while brushing your teeth.",
                    "Throwing away all plastic bottles after one use.",
                    "Using a reusable bag for shopping to reduce waste.",
                    "Driving a car for very short trips."
                ],
                answer: "Using a reusable bag for shopping to reduce waste."
            }
        ];


        // Function to toggle the visibility of quick check answers
        function toggleAnswer(id) {
            const answerBox = document.getElementById(id);
            if (answerBox.style.display === 'block') {
                answerBox.style.display = 'none';
            } else {
                answerBox.style.display = 'block';
                // Apply green flash animation when answer is shown
                answerBox.classList.add('correct-answer');
                setTimeout(() => {
                    answerBox.classList.remove('correct-answer');
                }, 500); // Remove class after animation
            }
        }

        // Confetti animation function
        function createConfetti() {
            const confettiContainer = document.createElement('div');
            confettiContainer.classList.add('confetti-container');
            document.body.appendChild(confettiContainer);

            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.animationDelay = Math.random() * 2 + 's';
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`; // Random color
                confettiContainer.appendChild(confetti);
            }

            setTimeout(() => {
                confettiContainer.remove();
            }, 3000); // Remove confetti after 3 seconds
        }

        // --- Activity 1: Drag and Drop ---
        const draggableItems = document.querySelectorAll('.draggable');
        const dropzones = document.querySelectorAll('.dropzone');
        const draggableItemsContainer = document.getElementById('draggable-items');

        draggableItems.forEach(item => {
            item.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', e.target.id);
                setTimeout(() => {
                    e.target.style.opacity = '0.5';
                }, 0);
            });

            item.addEventListener('dragend', (e) => {
                e.target.style.opacity = '1';
            });
        });

        dropzones.forEach(zone => {
            zone.addEventListener('dragover', (e) => {
                e.preventDefault();
                zone.classList.add('hover');
            });

            zone.addEventListener('dragleave', () => {
                zone.classList.remove('hover');
            });

            zone.addEventListener('drop', (e) => {
                e.preventDefault();
                zone.classList.remove('hover');
                const id = e.dataTransfer.getData('text/plain');
                const draggable = document.getElementById(id);
                if (!zone.contains(draggable)) {
                    zone.appendChild(draggable);
                }
            });
        });

        function checkDragAndDrop() {
            const feedbackDiv = document.getElementById('drag-drop-feedback');
            let allCorrect = true;
            const mitigationZone = document.getElementById('mitigation-zone');
            const adaptationZone = document.getElementById('adaptation-zone');

            mitigationZone.classList.remove('correct', 'incorrect');
            adaptationZone.classList.remove('correct', 'incorrect');
            void mitigationZone.offsetWidth;
            void adaptationZone.offsetWidth;

            const mitigationItems = Array.from(mitigationZone.children).filter(el => el.classList.contains('draggable'));
            let mitigationZoneCorrect = mitigationItems.length > 0 && mitigationItems.every(item => item.dataset.type === 'mitigation');
            if (mitigationItems.length !== 3) mitigationZoneCorrect = false;

            const adaptationItems = Array.from(adaptationZone.children).filter(el => el.classList.contains('draggable'));
            let adaptationZoneCorrect = adaptationItems.length > 0 && adaptationItems.every(item => item.dataset.type === 'adaptation');
            if (adaptationItems.length !== 3) adaptationZoneCorrect = false;

            if (mitigationZoneCorrect) {
                mitigationZone.classList.add('correct');
            } else {
                mitigationZone.classList.add('incorrect');
                allCorrect = false;
            }

            if (adaptationZoneCorrect) {
                adaptationZone.classList.add('correct');
            } else {
                adaptationZone.classList.add('incorrect');
                allCorrect = false;
            }

            const totalItemsPlaced = mitigationItems.length + adaptationItems.length;
            if (totalItemsPlaced !== 6) {
                allCorrect = false;
            }

            if (allCorrect) {
                feedbackDiv.className = 'feedback text-lg mt-4 correct-feedback show';
                feedbackDiv.textContent = 'Perfect! You correctly sorted all the actions!';
                createConfetti();
            } else {
                feedbackDiv.className = 'feedback text-lg mt-4 incorrect-feedback show';
                feedbackDiv.textContent = 'Not quite! Some actions are in the wrong category. Review the definitions and try again.';
            }
        }

        function resetDragAndDrop() {
            const allDraggables = document.querySelectorAll('.draggable');
            allDraggables.forEach(item => {
                draggableItemsContainer.appendChild(item);
                item.style.opacity = '1';
            });

            dropzones.forEach(zone => {
                zone.classList.remove('correct', 'incorrect', 'hover');
                zone.style.animation = 'none';
                void zone.offsetWidth;
            });

            const feedbackDiv = document.getElementById('drag-drop-feedback');
            feedbackDiv.classList.remove('show', 'correct-feedback', 'incorrect-feedback');
            feedbackDiv.textContent = '';
        }

        // --- Activity 2: Multiple Choice Quiz ---
        function loadQuiz() {
            const quizContainer = document.getElementById('quiz-container');
            if (!quizContainer) return; // Exit if quiz container doesn't exist
            quizContainer.innerHTML = ''; // Clear previous questions

            quizQuestions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.classList.add('mb-6', 'p-4', 'bg-white', 'rounded-lg', 'shadow-sm');
                questionDiv.innerHTML = `<p class="font-bold text-lg mb-3">${index + 1}. ${q.question}</p>`;

                q.options.forEach(option => {
                    const optionDiv = document.createElement('div');
                    optionDiv.classList.add('quiz-option');
                    optionDiv.textContent = option;
                    optionDiv.dataset.questionIndex = index;
                    optionDiv.dataset.option = option;
                    optionDiv.addEventListener('click', () => selectOption(index, option, optionDiv));
                    questionDiv.appendChild(optionDiv);
                });
                quizContainer.appendChild(questionDiv);
            });
        }

        function selectOption(qIndex, option, clickedElement) {
            // Remove 'selected' from other options for this question
            const optionsForThisQuestion = document.querySelectorAll(`[data-question-index="${qIndex}"]`);
            optionsForThisQuestion.forEach(el => {
                el.classList.remove('selected', 'correct-answer', 'incorrect-answer');
                el.style.animation = 'none'; // Reset animation
                void el.offsetWidth; // Trigger reflow
            });

            // Add 'selected' to the clicked option
            clickedElement.classList.add('selected');
            currentQuizAnswers[qIndex] = option;
        }

        function submitQuiz() {
            const feedbackDiv = document.getElementById('quiz-feedback');
            let score = 0;

            quizQuestions.forEach((q, index) => {
                const selectedOption = currentQuizAnswers[index];
                const optionsForThisQuestion = document.querySelectorAll(`[data-question-index="${index}"]`);

                optionsForThisQuestion.forEach(el => {
                    el.classList.remove('selected', 'correct-answer', 'incorrect-answer');
                    el.style.animation = 'none'; // Reset animation
                    void el.offsetWidth; // Trigger reflow

                    if (el.dataset.option === q.answer) {
                        el.classList.add('correct-answer'); // Mark correct answer
                        el.style.animation = 'flashGreen 0.5s ease-out';
                    }
                    if (el.dataset.option === selectedOption && selectedOption !== q.answer) {
                        el.classList.add('incorrect-answer'); // Mark user's incorrect choice
                        el.style.animation = 'shake 0.5s ease-out, flashRed 0.5s ease-out';
                    }
                });

                if (selectedOption === q.answer) {
                    score++;
                }
            });

            feedbackDiv.className = 'feedback text-lg mt-4 ' + (score === quizQuestions.length ? 'correct-feedback' : 'incorrect-feedback') + ' show';
            feedbackDiv.textContent = `You scored ${score} out of ${quizQuestions.length}! Review the highlighted answers.`;

            if (score === quizQuestions.length) {
                createConfetti(); // Trigger confetti on 100% score
            }
        }

        // --- Activity 3: Scenario-Based Reflection ---
        function showReflectionFeedback() {
            const reflectionText = document.getElementById('reflection-answer').value.trim();
            const feedbackDiv = document.getElementById('reflection-feedback');

            if (reflectionText.length < 30) { // Simple check for minimal response
                feedbackDiv.className = 'feedback text-lg mt-4 incorrect-feedback show';
                feedbackDiv.textContent = 'Please write a more detailed pledge. Try to answer both questions!';
                // Add shake and red flash to the textarea if too short
                const textarea = document.getElementById('reflection-answer');
                textarea.style.animation = 'shake 0.5s ease-out, flashRed 0.5s ease-out';
                setTimeout(() => {
                    textarea.style.animation = 'none';
                }, 500);
                return;
            }

            feedbackDiv.className = 'feedback text-lg mt-4 correct-feedback show';
            feedbackDiv.innerHTML = `
                <p class="font-bold mb-2">Thank you for your Green Pledge! This is a fantastic commitment.</p>
                <p>Your personal pledge is a great start. Small changes, when done by many people, add up to a huge positive impact. Your pledge will be a wonderful addition to our classroom's 'Green Pledge Wall'!</p>
            `;
            // Add green flash animation to the feedback div on success
            feedbackDiv.style.animation = 'flashGreen 0.5s ease-out';
            setTimeout(() => {
                feedbackDiv.style.animation = 'none';
            }, 500);
        }

        // Initialize activities on page load
        document.addEventListener('DOMContentLoaded', () => {
            loadQuiz();
            // No need to initialize drag-and-drop items here, they are static in the HTML
        });
    </script>
</body>
</html>
